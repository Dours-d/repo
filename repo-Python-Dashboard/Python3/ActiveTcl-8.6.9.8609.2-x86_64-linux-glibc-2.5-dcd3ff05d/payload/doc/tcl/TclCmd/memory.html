<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>ActiveTcl 8.6.9 Documentation</title>
    <meta name="generator" content="Hugo 0.26" />

    
    <meta name="description" content="Complete documentation for ActiveTcl 8.6.9">
    
    <link rel="canonical" href="memory.html">
    

    
    <meta name="apple-mobile-web-app-title" content="ActiveTcl 8.6.9 Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('../../fonts/icon.eot');
        src: url('../../fonts/icon.eot')
               format('embedded-opentype'),
             url('../../fonts/icon.woff')
               format('woff'),
             url('../../fonts/icon.ttf')
               format('truetype'),
             url('../../fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open%20Sans:400,700|Source+Code+Pro">
    <style>
      body, input {
        font-family: 'Open Sans', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="../../stylesheets/as_common.css">
    
    <link rel="stylesheet" href="../../stylesheets/as_custom.css">
    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-grey palette-accent-red">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="logo">
        <a href="http://www.activestate.com/">
          <img src="../../images/logo.png" alt="ActiveState homepage">
        </a>
      </div>
      <div class="title">
        <a href="http://docs.activestate.com/">docs.activestate.com</a>
      </div>
    </div>

    

    
    
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../index.html" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/as_tcl.png">
        </div>
      
      <div class="name">
        <strong>ActiveTcl 8.6.9 Documentation </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  



<a  title="Get ActiveTcl" href="../../get/index.html">
	
	Get ActiveTcl
</a>



  
    <ul>
      
        
        



<a  title="Release notes" href="../../get/relnotes/index.html">
	
	Release notes
</a>



      
        
        



<a  title="Windows installation" href="../../get/windows/index.html">
	
	Windows installation
</a>



      
        
        



<a  title="Linux/Unix Installaton" href="../../get/linux/index.html">
	
	Linux/Unix Installaton
</a>



      
        
        



<a  title="macOS Installation" href="../../get/macos/index.html">
	
	macOS Installation
</a>



      
        
        



<a  title="License" href="../../get/license/index.html">
	
	License
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Get Started" href="../../start/index.html">
	
	Get Started
</a>



  
    <ul>
      
        
        



<a  title="Package Reference" href="../../pkg/index.html">
	
	Package Reference
</a>



      
        
        



<a  title="Tcl 8.6.9 docs" href="../contents.html">
	
	Tcl 8.6.9 docs
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Contact Us" href="../../contact/index.html">
	
	Contact Us
</a>



  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD><TITLE>memory manual page - Tcl Built-In Commands</TITLE>
<link rel="stylesheet" href="../docs.css" type="text/css" media="all">
</HEAD>
<BODY><H2><a href="../contents.html">Tcl8.6.9/Tk8.6.9 Documentation</a> <small>&gt;</small> <a href="contents.html">Tcl Commands, version 8.6.9</a> <small>&gt;</small> memory</H2>
<H3><A HREF="../UserCmd/contents.html">Tcl/Tk Applications</A> | <A HREF="contents.html">Tcl Commands</A> | <A HREF="../TkCmd/contents.html">Tk Commands</A> | <A HREF="../ItclCmd/contents.html">[incr Tcl] Package Commands</A> | <A HREF="../SqliteCmd/contents.html">SQLite3 Package Commands</A> | <A HREF="../TdbcCmd/contents.html">TDBC Package Commands</A> | <A HREF="../TdbcmysqlCmd/contents.html">tdbc::mysql Package Commands</A> | <A HREF="../TdbcodbcCmd/contents.html">tdbc::odbc Package Commands</A> | <A HREF="../TdbcpostgresCmd/contents.html">tdbc::postgres Package Commands</A> | <A HREF="../TdbcsqliteCmd/contents.html">tdbc::sqlite3 Package Commands</A> | <A HREF="../ThreadCmd/contents.html">Thread Package Commands</A> | <A HREF="../TclLib/contents.html">Tcl C API</A> | <A HREF="../TkLib/contents.html">Tk C API</A> | <A HREF="../ItclLib/contents.html">[incr Tcl] Package C API</A> | <A HREF="../TdbcLib/contents.html">TDBC Package C API</A></H3>
<DL>
<DD><A HREF="memory.html#M2" NAME="L1161">NAME</A>
<DL><DD>memory &mdash; Control Tcl memory debugging capabilities</DD></DL>
<DD><A HREF="memory.html#M3" NAME="L1162">SYNOPSIS</A>
<DL>
</DL>
<DD><A HREF="memory.html#M4" NAME="L1163">DESCRIPTION</A>
<DL class="description">
<DD><A HREF="memory.html#M5" NAME="L1164"><B>memory active</B> <I>file</I></A>
<DD><A HREF="memory.html#M6" NAME="L1165"><B>memory break_on_malloc</B> <I>count</I></A>
<DD><A HREF="memory.html#M7" NAME="L1166"><B>memory info</B></A>
<DD><A HREF="memory.html#M8" NAME="L1167"><B>memory init </B>[<B>on</B>|<B>off</B>]</A>
<DD><A HREF="memory.html#M9" NAME="L1168"><B>memory objs </B><I>file</I></A>
<DD><A HREF="memory.html#M10" NAME="L1169"><B>memory onexit</B> <I>file</I></A>
<DD><A HREF="memory.html#M11" NAME="L1170"><B>memory tag</B> <I>string</I></A>
<DD><A HREF="memory.html#M12" NAME="L1171"><B>memory trace </B>[<B>on</B>|<B>off</B>]</A>
<DD><A HREF="memory.html#M13" NAME="L1172"><B>memory trace_on_at_malloc</B> <I>count</I></A>
<DD><A HREF="memory.html#M14" NAME="L1173"><B>memory validate </B>[<B>on</B>|<B>off</B>]</A>
</DL>
<DD><A HREF="memory.html#M15" NAME="L1174">SEE ALSO</A>
<DD><A HREF="memory.html#M16" NAME="L1175">KEYWORDS</A>
</DL>
<H3><A NAME="M2">NAME</A></H3>
memory &mdash; Control Tcl memory debugging capabilities
<H3><A NAME="M3">SYNOPSIS</A></H3>
<B>memory </B><I>option </I>?<I>arg arg ...</I>?<BR>
<H3><A NAME="M4">DESCRIPTION</A></H3>
The <B>memory</B> command gives the Tcl developer control of Tcl's memory
debugging capabilities.  The memory command has several suboptions, which are
described below.  It is only available when Tcl has been compiled with
memory debugging enabled (when <B>TCL_MEM_DEBUG</B> is defined at
compile time), and after <B><A HREF="../TclLib/DumpActiveMemory.html">Tcl_InitMemory</A></B> has been called.
<P>
<DL class="description">
<DT><A NAME="M5"><B>memory active</B> <I>file</I></A><DD>
Write a list of all currently allocated memory to the specified <I>file</I>.
<P><DT><A NAME="M6"><B>memory break_on_malloc</B> <I>count</I></A><DD>
After the <I>count</I> allocations have been performed, <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B>
outputs a message to this effect and that it is now attempting to enter
the C debugger.  Tcl will then issue a <I>SIGINT</I> signal against itself.
If you are running Tcl under a C debugger, it should then enter the debugger
command mode.
<P><DT><A NAME="M7"><B>memory info</B></A><DD>
Returns a report containing the total allocations and frees since
Tcl began, the current packets allocated (the current
number of calls to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> not met by a corresponding call
to <B><A HREF="../TclLib/Alloc.html">ckfree</A></B>), the current bytes allocated, and the maximum number
of packets and bytes allocated.
<P><DT><A NAME="M8"><B>memory init </B>[<B>on</B>|<B>off</B>]</A><DD>
Turn on or off the pre-initialization of all allocated memory
with bogus bytes.  Useful for detecting the use of uninitialized
values.
<P><DT><A NAME="M9"><B>memory objs </B><I>file</I></A><DD>
Causes a list of all allocated <A HREF="../TclLib/Object.html">Tcl_Obj</A> values to be written to the specified
<I>file</I> immediately, together with where they were allocated.  Useful for
checking for leaks of values.
<P><DT><A NAME="M10"><B>memory onexit</B> <I>file</I></A><DD>
Causes a list of all allocated memory to be written to the specified <I>file</I>
during the finalization of Tcl's memory subsystem.  Useful for checking
that memory is properly cleaned up during process exit.
<P><DT><A NAME="M11"><B>memory tag</B> <I>string</I></A><DD>
Each packet of memory allocated by <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> can have associated
with it a string-valued tag.  In the lists of allocated memory generated
by <B>memory active</B> and <B>memory onexit</B>, the tag for each packet
is printed along with other information about the packet.  The
<B>memory tag</B> command sets the tag value for subsequent calls
to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> to be <I>string</I>.
<P><DT><A NAME="M12"><B>memory trace </B>[<B>on</B>|<B>off</B>]</A><DD>
Turns memory tracing on or off.  When memory tracing is on, every call
to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> causes a line of trace information to be written to
<I>stderr</I>, consisting of the word <I>ckalloc</I>, followed by the
address returned, the amount of memory allocated, and the C filename
and line number of the code performing the allocation.  For example:
<P>
<PRE>ckalloc 40e478 98 tclProc.c 1406</PRE>
<P>Calls to <B><A HREF="../TclLib/Alloc.html">ckfree</A></B> are traced in the same manner.
<P><DT><A NAME="M13"><B>memory trace_on_at_malloc</B> <I>count</I></A><DD>
Enable memory tracing after <I>count</I> <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B>s have been performed.
For example, if you enter <B>memory trace_on_at_malloc 100</B>,
after the 100th call to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B>, memory trace information will begin
being displayed for all allocations and frees.  Since there can be a lot
of memory activity before a problem occurs, judicious use of this option
can reduce the slowdown caused by tracing (and the amount of trace information
produced), if you can identify a number of allocations that occur before
the problem sets in.  The current number of memory allocations that have
occurred since Tcl started is printed on a guard zone failure.
<P><DT><A NAME="M14"><B>memory validate </B>[<B>on</B>|<B>off</B>]</A><DD>
Turns memory validation on or off. When memory validation is enabled,
on every call to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> or <B><A HREF="../TclLib/Alloc.html">ckfree</A></B>, the guard zones are
checked for every piece of memory currently in existence that was
allocated by <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B>.  This has a large performance impact and
should only be used when overwrite problems are strongly suspected.
The advantage of enabling memory validation is that a guard zone
overwrite can be detected on the first call to <B><A HREF="../TclLib/Alloc.html">ckalloc</A></B> or
<B><A HREF="../TclLib/Alloc.html">ckfree</A></B> after the overwrite occurred, rather than when the
specific memory with the overwritten guard zone(s) is freed, which may
occur long after the overwrite occurred.
<P></DL>
<H3><A NAME="M15">SEE ALSO</A></H3>
<B><A HREF="../TclLib/Alloc.html">ckalloc</A></B>, <B><A HREF="../TclLib/Alloc.html">ckfree</A></B>, <B><A HREF="../TclLib/DumpActiveMemory.html">Tcl_ValidateAllMemory</A></B>, <B><A HREF="../TclLib/DumpActiveMemory.html">Tcl_DumpActiveMemory</A></B>, <B>TCL_MEM_DEBUG</B>
<H3><A NAME="M16">KEYWORDS</A></H3>
<A href="../Keywords/M.html#memory">memory</A>, <A href="../Keywords/D.html#debug">debug</A>
<div class="copy">Copyright &copy; 1992-1999 by Karl Lehenbauer and Mark Diekhans
<BR>Copyright &copy; 2000 by Scriptics Corporation.
</div>
</BODY></HTML>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				<div class="as_footer">
  
  <div class="prod_links">
    <strong>
      <a href="http://platform.activestate.com/" target="_blank">ActiveState Platform</a>&nbsp;&nbsp;
      <a href="http://www.activestate.com/downloads" target="_blank">Downloads</a>&nbsp;&nbsp;
      <a href="http://community.activestate.com/" target="_blank">Community</a>&nbsp;&nbsp;
      <a href="http://github.com/activestate/code" target="_blank">Code Recipes</a>&nbsp;&nbsp;
    </strong>
  </div>
  <div class="as_copyright"> 
    &copy; 2019 ActiveState Software Inc. All rights reserved. <strong><a href="../../trademarks/index.html">Trademarks</a>. <a href="http://www.activestate.com/privacy-policy">Privacy Policy</a>.</strong>
  </div>
</div>

			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-20072-24', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="../../javascripts/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

