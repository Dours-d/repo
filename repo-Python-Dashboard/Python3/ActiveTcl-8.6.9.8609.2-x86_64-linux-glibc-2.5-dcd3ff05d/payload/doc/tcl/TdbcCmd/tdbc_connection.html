<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>ActiveTcl 8.6.9 Documentation</title>
    <meta name="generator" content="Hugo 0.26" />

    
    <meta name="description" content="Complete documentation for ActiveTcl 8.6.9">
    
    <link rel="canonical" href="tdbc_connection.html">
    

    
    <meta name="apple-mobile-web-app-title" content="ActiveTcl 8.6.9 Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('../../fonts/icon.eot');
        src: url('../../fonts/icon.eot')
               format('embedded-opentype'),
             url('../../fonts/icon.woff')
               format('woff'),
             url('../../fonts/icon.ttf')
               format('truetype'),
             url('../../fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open%20Sans:400,700|Source+Code+Pro">
    <style>
      body, input {
        font-family: 'Open Sans', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="../../stylesheets/as_common.css">
    
    <link rel="stylesheet" href="../../stylesheets/as_custom.css">
    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-grey palette-accent-red">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="logo">
        <a href="http://www.activestate.com/">
          <img src="../../images/logo.png" alt="ActiveState homepage">
        </a>
      </div>
      <div class="title">
        <a href="http://docs.activestate.com/">docs.activestate.com</a>
      </div>
    </div>

    

    
    
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../index.html" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/as_tcl.png">
        </div>
      
      <div class="name">
        <strong>ActiveTcl 8.6.9 Documentation </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  



<a  title="Get ActiveTcl" href="../../get/index.html">
	
	Get ActiveTcl
</a>



  
    <ul>
      
        
        



<a  title="Release notes" href="../../get/relnotes/index.html">
	
	Release notes
</a>



      
        
        



<a  title="Windows installation" href="../../get/windows/index.html">
	
	Windows installation
</a>



      
        
        



<a  title="Linux/Unix Installaton" href="../../get/linux/index.html">
	
	Linux/Unix Installaton
</a>



      
        
        



<a  title="macOS Installation" href="../../get/macos/index.html">
	
	macOS Installation
</a>



      
        
        



<a  title="License" href="../../get/license/index.html">
	
	License
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Get Started" href="../../start/index.html">
	
	Get Started
</a>



  
    <ul>
      
        
        



<a  title="Package Reference" href="../../pkg/index.html">
	
	Package Reference
</a>



      
        
        



<a  title="Tcl 8.6.9 docs" href="../contents.html">
	
	Tcl 8.6.9 docs
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Contact Us" href="../../contact/index.html">
	
	Contact Us
</a>



  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD><TITLE>tdbc::connection manual page - Tcl Database Connectivity</TITLE>
<link rel="stylesheet" href="../docs.css" type="text/css" media="all">
</HEAD>
<BODY><H2><a href="../contents.html">Tcl8.6.9/Tk8.6.9 Documentation</a> <small>&gt;</small> <a href="contents.html">TDBC Package Commands, version 1.1.0</a> <small>&gt;</small> tdbc_connection</H2>
<H3><A HREF="../UserCmd/contents.html">Tcl/Tk Applications</A> | <A HREF="../TclCmd/contents.html">Tcl Commands</A> | <A HREF="../TkCmd/contents.html">Tk Commands</A> | <A HREF="../ItclCmd/contents.html">[incr Tcl] Package Commands</A> | <A HREF="../SqliteCmd/contents.html">SQLite3 Package Commands</A> | <A HREF="contents.html">TDBC Package Commands</A> | <A HREF="../TdbcmysqlCmd/contents.html">tdbc::mysql Package Commands</A> | <A HREF="../TdbcodbcCmd/contents.html">tdbc::odbc Package Commands</A> | <A HREF="../TdbcpostgresCmd/contents.html">tdbc::postgres Package Commands</A> | <A HREF="../TdbcsqliteCmd/contents.html">tdbc::sqlite3 Package Commands</A> | <A HREF="../ThreadCmd/contents.html">Thread Package Commands</A> | <A HREF="../TclLib/contents.html">Tcl C API</A> | <A HREF="../TkLib/contents.html">Tk C API</A> | <A HREF="../ItclLib/contents.html">[incr Tcl] Package C API</A> | <A HREF="../TdbcLib/contents.html">TDBC Package C API</A></H3>
<DL>
<DD><A HREF="tdbc_connection.html#M2" NAME="L8">NAME</A>
<DL><DD>tdbc::connection &mdash; TDBC connection object</DD></DL>
<DD><A HREF="tdbc_connection.html#M3" NAME="L9">SYNOPSIS</A>
<DL>
</DL>
<DD><A HREF="tdbc_connection.html#M4" NAME="L10">DESCRIPTION</A>
<DL class="description">
<DD><A HREF="tdbc_connection.html#M5" NAME="L11"><B>type</B></A>
<DD><A HREF="tdbc_connection.html#M6" NAME="L12"><B>precision</B></A>
<DD><A HREF="tdbc_connection.html#M7" NAME="L13"><B>scale</B></A>
<DD><A HREF="tdbc_connection.html#M8" NAME="L14"><B>nullable</B></A>
</DL>
<DL class="description">
<DD><A HREF="tdbc_connection.html#M9" NAME="L15"><B>tableCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M10" NAME="L16"><B>tableSchema</B></A>
<DD><A HREF="tdbc_connection.html#M11" NAME="L17"><B>tableName</B></A>
<DD><A HREF="tdbc_connection.html#M12" NAME="L18"><B>constraintCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M13" NAME="L19"><B>constraintSchema</B></A>
<DD><A HREF="tdbc_connection.html#M14" NAME="L20"><B>constraintName</B></A>
<DD><A HREF="tdbc_connection.html#M15" NAME="L21"><B>columnName</B></A>
<DD><A HREF="tdbc_connection.html#M16" NAME="L22"><B>ordinalPosition</B></A>
</DL>
<DL class="description">
<DD><A HREF="tdbc_connection.html#M17" NAME="L23"><B>foreignConstraintCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M18" NAME="L24"><B>foreignConstraintSchema</B></A>
<DD><A HREF="tdbc_connection.html#M19" NAME="L25"><B>foreignConstraintName</B></A>
<DD><A HREF="tdbc_connection.html#M20" NAME="L26"><B>primaryConstraintCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M21" NAME="L27"><B>primaryConstraintSchema</B></A>
<DD><A HREF="tdbc_connection.html#M22" NAME="L28"><B>primaryConstraintName</B></A>
<DD><A HREF="tdbc_connection.html#M23" NAME="L29"><B>updateAction</B></A>
<DD><A HREF="tdbc_connection.html#M24" NAME="L30"><B>deleteAction</B></A>
<DD><A HREF="tdbc_connection.html#M25" NAME="L31"><B>primaryCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M26" NAME="L32"><B>primarySchema</B></A>
</DL>
<DL class="description">
<DD><A HREF="tdbc_connection.html#M27" NAME="L33"><B>primaryTable</B></A>
<DD><A HREF="tdbc_connection.html#M28" NAME="L34"><B>primaryColumn</B></A>
<DD><A HREF="tdbc_connection.html#M29" NAME="L35"><B>foreignCatalog</B></A>
<DD><A HREF="tdbc_connection.html#M30" NAME="L36"><B>foreignSchema</B></A>
<DD><A HREF="tdbc_connection.html#M31" NAME="L37"><B>foreignTable</B></A>
<DD><A HREF="tdbc_connection.html#M32" NAME="L38"><B>foreignColumn</B></A>
<DD><A HREF="tdbc_connection.html#M33" NAME="L39"><B>ordinalPosition</B></A>
</DL>
<DD><A HREF="tdbc_connection.html#M34" NAME="L40">CONFIGURATION OPTIONS</A>
<DL class="configuration options">
<DD><A HREF="tdbc_connection.html#M35" NAME="L41"><B>-encoding </B><I>name</I></A>
<DD><A HREF="tdbc_connection.html#M36" NAME="L42"><B>-isolation </B><I>level</I></A>
<DD><A HREF="tdbc_connection.html#M37" NAME="L43"><B>-timeout </B><I>ms</I></A>
<DD><A HREF="tdbc_connection.html#M38" NAME="L44"><B>-readonly </B><I>flag</I></A>
</DL>
<DD><A HREF="tdbc_connection.html#M39" NAME="L45">TRANSACTION ISOLATION LEVELS</A>
<DL class="transaction isolation levels">
<DD><A HREF="tdbc_connection.html#M40" NAME="L46"><B>readuncommitted</B></A>
<DD><A HREF="tdbc_connection.html#M41" NAME="L47"><B>readcommitted</B></A>
<DD><A HREF="tdbc_connection.html#M42" NAME="L48"><B>repeatableread</B></A>
<DD><A HREF="tdbc_connection.html#M43" NAME="L49"><B>serializable</B></A>
<DD><A HREF="tdbc_connection.html#M44" NAME="L50"><B>readonly</B></A>
</DL>
<DD><A HREF="tdbc_connection.html#M45" NAME="L51">SEE ALSO</A>
<DD><A HREF="tdbc_connection.html#M46" NAME="L52">KEYWORDS</A>
<DD><A HREF="tdbc_connection.html#M47" NAME="L53">COPYRIGHT</A>
</DL>
<H3><A NAME="M2">NAME</A></H3>
tdbc::connection &mdash; TDBC connection object
<H3><A NAME="M3">SYNOPSIS</A></H3>
package require <B>tdbc 1.0</B><BR>
package require <B>tdbc::</B><I>driver version</I><BR>
<BR>
<B>tdbc::</B><I>driver</I><B>::connection create </B><I>db</I> ?<I>-option value</I>...?<BR>
<BR>
<I>db </I><B>configure</B> ?<I>-option value</I>...?<BR>
<I>db </I><B><A HREF="../TclCmd/close.html">close</A></B><BR>
<I>db </I><B>foreignkeys</B> ?<I>-primary tableName</I>? ?<I>-foreign tableName</I>?<BR>
<I>db </I><B>prepare</B> <I>sql-code</I><BR>
<I>db </I><B>preparecall</B> <I>call</I><BR>
<I>db </I><B>primarykeys</B> <I>tableName</I><BR>
<I>db </I><B>statements</B><BR>
<I>db </I><B>resultsets</B><BR>
<I>db </I><B>tables</B> ?<I>pattern</I>?<BR>
<I>db </I><B>columns</B> <I>table</I> ?<I>pattern</I>?<BR>
<I>db </I><B>begintransaction</B><BR>
<I>db </I><B>commit</B><BR>
<I>db </I><B>rollback</B><BR>
<I>db </I><B>transaction</B> <I>script</I><BR>
<I>db </I><B>allrows</B> ?<B>-as lists</B>|<B>dicts</B>? ?<B>-columnsvariable </B><I>name</I>? ?<B>--</B>? <I>sql-code</I> ?<I>dictionary</I>?<BR>
<I>db </I><B><A HREF="../TclCmd/foreach.html">foreach</A></B> ?<B>-as lists</B>|<B>dicts</B>? ?<B>-columnsvariable </B><I>name</I>? ?--? <I>varName sqlcode</I> ?<I>dictionary</I>? <I>script</I><BR>
<H3><A NAME="M4">DESCRIPTION</A></H3>
Every database driver for TDBC (Tcl DataBase Connectivity) implements
a <I>connection</I> object that represents a connection to a database.
By convention, this object is created by the command,
<B>tdbc::</B><I>driver</I><B>::connection create</B>.
This command accepts the name of a Tcl command that will represent the
connection and a possible set of options (see <B>CONFIGURATION
OPTIONS</B>). It establishes a connection to the database and returns
the name of the newly-created Tcl command.
<P>
The <B>configure</B> object command on a database connection, if
presented with no arguments, returns a list of alternating keywords
and values representing the connection's current configuration. If
presented with a single argument <I>-option</I>, it returns the
configured value of the given option. Otherwise, it must be given an
even number of arguments which are alternating options and values. The
specified options receive the specified values, and nothing is
returned.
<P>
The <B><A HREF="../TclCmd/close.html">close</A></B> object command on a database connection closes the
connection. All active statements and result sets on the connection
are closed. Any uncommitted transaction is rolled back. The object
command is deleted.
<P>
The <B>prepare</B> object command on a database connection prepares a SQL
statement for execution. The <I>sql-code</I> argument must contain a
single SQL statement to be executed. Bound variables may be
included. The return value is a
newly-created Tcl command that represents the statement. See
<B><A HREF="tdbc_statement.html">tdbc::statement</A></B> for more detailed discussion of the
SQL accepted by the <B>prepare</B> object command and the
interface accepted by a statement.
<P>
On a database connection where the underlying database and driver
support stored procedures, the <B>preparecall</B>
object command prepares a call to a stored procedure for execution.
The syntax of the stored procedure call is:
<P>
<PRE>?<I>resultvar</I> =? <I>procname</I>(?<I>arg</I> ?, <I>arg</I>...?)</PRE>
<P>
The return value is a
newly-created Tcl command that represents the statement. See
<B><A HREF="tdbc_statement.html">tdbc::statement</A></B> for the interface accepted by a statement.
<P>
The <B>statements</B> object command returns a list of statements 
that have been created by <B>prepare</B> and <B>preparecall</B>
statements against the given connection and have not yet been closed.
<P>
The <B>resultsets</B> object command returns a list of result sets
that have been obtained by executing statements prepared using the
given connection and not yet closed.
<P>
The <B>tables</B> object command allows the program to query the
connection for the names of tables that exist in the database.
The optional <I>pattern</I> parameter is a pattern to match the name of
a table. It may contain the SQL wild-card characters '<B>%</B>' and
and whose values are subdictionaries. See the documentation for the
individual database driver for the interpretation of the values.
<P>
The <B>columns</B> object command allows the program to query the
connection for the names of columns that exist in a given table.
The optional <B>pattern</B> parameter is a pattern to match the name of
a column. It may contain the SQL wild-card characters '<B>%</B>' and
and whose values are dictionaries. Each of the subdictionaries will
contain at least the following keys and values (and may contain others
whose usage is determined by a specific database driver).
<P>
<DL class="description">
<DT><A NAME="M5"><B>type</B></A><DD>
Contains the data type of the column, and will generally be chosen
from the set, 
<B>bigint</B>, <B><A HREF="../TclCmd/binary.html">binary</A></B>, <B>bit</B>, <B>char</B>, <B>date</B>,
<B>decimal</B>, <B>double</B>, <B>float</B>, <B>integer</B>,
<B>longvarbinary</B>, <B>longvarchar</B>, <B>numeric</B>, <B>real</B>,
<B><A HREF="../TclCmd/time.html">time</A></B>, <B>timestamp</B>, <B>smallint</B>, <B>tinyint</B>,
<B>varbinary</B>, and <B>varchar</B>. (If the column has a type that
cannot be represented as one of the above, <B>type</B> will contain
a driver-dependent description of the type.)
<P><DT><A NAME="M6"><B>precision</B></A><DD>
Contains the precision of the column in bits, decimal digits, or the
width in characters, according to the type.
<P><DT><A NAME="M7"><B>scale</B></A><DD>
Contains the scale of the column (the number of digits after the radix
point), for types that support the concept.
<P><DT><A NAME="M8"><B>nullable</B></A><DD>
Contains 1 if the column can contain NULL values, and 0 otherwise.
<P></DL>
<P>
The <B>primarykeys</B> object command allows the program to query the
connection for the primary keys belonging to a given table. The
<I>tableName</I> parameter identifies the table being interrogated. The result
is a list of dictionaries enumerating the keys (in a similar format to the
list returned by <I>$connection</I> <B>allrows -as dicts</B>). The keys of the
dictionary may include at least the following. Values that are NULL or
meaningless in a given database are omitted.
<P>
<DL class="description">
<DT><A NAME="M9"><B>tableCatalog</B></A><DD>
Name of the catalog in which the table appears.
<P><DT><A NAME="M10"><B>tableSchema</B></A><DD>
Name of the schema in which the table  appears.
<P><DT><A NAME="M11"><B>tableName</B></A><DD>
Name of the table owning the primary key.
<P><DT><A NAME="M12"><B>constraintCatalog</B></A><DD>
Name of the catalog in which the primary key constraint appears. In some
database systems, this may not be the same as the table's catalog.
<P><DT><A NAME="M13"><B>constraintSchema</B></A><DD>
Name of the schema in which the primary key constraint appears.  In some
database systems, this may not be the same as the table's schema.
<P><DT><A NAME="M14"><B>constraintName</B></A><DD>
Name of the primary key constraint,
<P><DT><A NAME="M15"><B>columnName</B></A><DD>
Name of a column that is a member of the primary key.
<P><DT><A NAME="M16"><B>ordinalPosition</B></A><DD>
Ordinal position of the column within the primary key.
<P></DL>
<P>
To these columns may be added additional ones that are specific to
a particular database system.
<P>
The <B>foreignkeys</B> object command allows the program to query the
connection for foreign key relationships that apply to a particular table.
The relationships may be constrained to the keys that appear in a
particular table (<B>-foreign</B> <I>tableName</I>), the keys that
refer to a particular table (<B>-primary</B> <I>tableName</I>), or both.
At least one of <B>-primary</B> and <B>-foreign</B> should be specified,
although some drivers will enumerate all foreign keys in the current
catalog if both options are omitted. The result of the <B>foreignkeys</B> 
object command is a list of dictionaries, with one list element per key
(in a similar format to the
list returned by <I>$connection</I> <B>allrows -as dicts</B>). The keys of the
dictionary may include at least the following. Values that are NULL or
meaningless in a given database are omitted.
<P>
<DL class="description">
<DT><A NAME="M17"><B>foreignConstraintCatalog</B></A><DD>
Catalog in which the foreign key constraint appears.
<P><DT><A NAME="M18"><B>foreignConstraintSchema</B></A><DD>
Schema in which the foreign key constraint appears.
<P><DT><A NAME="M19"><B>foreignConstraintName</B></A><DD>
Name of the foreign key constraint.
<P><DT><A NAME="M20"><B>primaryConstraintCatalog</B></A><DD>
Catalog holding the primary key constraint (or unique key constraint) on the 
column to which the foreign key refers.
<P><DT><A NAME="M21"><B>primaryConstraintSchema</B></A><DD>
Schema holding the primary key constraint (or unique key constraint) on the 
column to which the foreign key refers.
<P><DT><A NAME="M22"><B>primaryConstraintName</B></A><DD>
Name of the primary key constraint (or unique key constraint) on the 
column to which the foreign key refers.
<P><DT><A NAME="M23"><B>updateAction</B></A><DD>
Action to take when an UPDATE statement invalidates the constraint. 
The value will be <B>CASCADE</B>, <B>SET DEFAULT</B>, <B>SET NULL</B>, 
<B>RESTRICT</B>, or <B>NO ACTION</B>.
<P><DT><A NAME="M24"><B>deleteAction</B></A><DD>
Action to take when a DELETE statement invalidates the constraint. 
The value will be <B>CASCADE</B>, <B>SET DEFAULT</B>, <B>SET NULL</B>,
<B>RESTRICT</B>, or <B>NO ACTION</B>.
<P><DT><A NAME="M25"><B>primaryCatalog</B></A><DD>
Catalog name in which the primary table (the one to which the foreign key
refers) appears.
<P><DT><A NAME="M26"><B>primarySchema</B></A><DD>
Schema name in which the primary table (the one to which the foreign key
refers) appears.
<P></DL>
<P>
<P>
<DL class="description">
<DT><A NAME="M27"><B>primaryTable</B></A><DD>
Table name of the primary table (the one to which the foreign key
refers).
<P><DT><A NAME="M28"><B>primaryColumn</B></A><DD>
Name of the column to which the foreign key refers.
<P><DT><A NAME="M29"><B>foreignCatalog</B></A><DD>
Name of the catalog in which the table containing the foreign key appears.
<P><DT><A NAME="M30"><B>foreignSchema</B></A><DD>
Name of the schema in which the table containing the foreign key appears.
<P><DT><A NAME="M31"><B>foreignTable</B></A><DD>
Name of the table containing the foreign key.
<P><DT><A NAME="M32"><B>foreignColumn</B></A><DD>
Name of the column appearing in the foreign key.
<P><DT><A NAME="M33"><B>ordinalPosition</B></A><DD>
Position of the column in the foreign key, if the key is a compound key.
<P></DL>
<P>
The <B>begintransaction</B> object command on a database connection
begins a transaction on the database. If the underlying database does
not support atomic, consistent, isolated, durable transactions, the
<B>begintransaction</B> object command returns an error reporting the
fact. Similarly, if multiple <B>begintransaction</B> commands are executed
withough an intervening <B>commit</B> or <B>rollback</B> command, an
error is returned unless the underlying database supports nested
transactions.
<P>
The <B>commit</B> object command on a database connection ends the most
recent transaction started by <B>begintransaction</B> and commits
changes to the database.
<P>
The <B>rollback</B> object command on a database connection rolls back
the most recent transaction started by <B>begintransaction</B>. The
state of the database is as if nothing happened during the
transaction.
<P>
The <B>transaction</B> object command on a database connection
presents a simple way of bundling a database transaction. It begins a
transaction, and evaluates the supplied <I>script</I> argument as a Tcl
script in the caller's scope. If <I>script</I> terminates normally, or
by <B><A HREF="../TclCmd/break.html">break</A></B>, <B><A HREF="../TclCmd/continue.html">continue</A></B>, or <B><A HREF="../TclCmd/return.html">return</A></B>, the transaction is
committed (and any action requested by <B><A HREF="../TclCmd/break.html">break</A></B>, <B><A HREF="../TclCmd/continue.html">continue</A></B>, or
<B><A HREF="../TclCmd/return.html">return</A></B> takes place). If the commit fails for any reason,
the error in the commit is treated as an error in the <I>script</I>.
In the case of an error in <I>script</I> or in the commit, 
the transaction is rolled back and the error is
rethrown. Any nonstandard return code from the script
causes the transaction to be rolled back and then is rethrown.
<P>
The <B>allrows</B> object command prepares a SQL statement (given by
the <I>sql-code</I> parameter) to execute against the database.
It then executes it (see <B><A HREF="tdbc_statement.html">tdbc::statement</A></B> for details) with the
optional <I>dictionary</I> parameter giving bind variables. Finally,
it uses the <I>allrows</I> object command on the result set (see
<B><A HREF="tdbc_resultset.html">tdbc::resultset</A></B>) to construct a list of the results. Finally, both
result set and statement are closed. The return value is the list of
results. 
<P>
The <B><A HREF="../TclCmd/foreach.html">foreach</A></B> object command prepares a SQL statement (given by
the <I>sql-code</I> parameter) to execute against the database.
It then executes it (see <B><A HREF="tdbc_statement.html">tdbc::statement</A></B> for details) with the
optional <I>dictionary</I> parameter giving bind variables. Finally,
it uses the <I>foreach</I> object command on the result set (see
<B><A HREF="tdbc_resultset.html">tdbc::resultset</A></B>) to evaluate the given <I>script</I> for each row of
the results. Finally, both result set and statement are closed, even
if the given <I>script</I> results in a <B><A HREF="../TclCmd/return.html">return</A></B>, an error, or
an unusual return code. 
<H3><A NAME="M34">CONFIGURATION OPTIONS</A></H3>
The configuration options accepted when the connection is created and
on the connection's <B>configure</B> object command include the
following, and may include others specific to a database driver.
<P>
<DL class="configuration options">
<DT><A NAME="M35"><B>-encoding </B><I>name</I></A><DD>
Specifies the encoding to be used in connecting to the database.
The <I>name</I> should be one of the names accepted by the
<B><A HREF="../TclCmd/encoding.html">encoding</A></B> command. This option is usually unnecessary; most
database drivers can figure out the encoding in use by themselves.
<P><DT><A NAME="M36"><B>-isolation </B><I>level</I></A><DD>
Specifies the transaction isolation level needed for transactions on
the database. The acceptable values for <I>level</I> are shown under
<B><A HREF="tdbc_connection.html#M39">TRANSACTION ISOLATION LEVELS</A></B>.
<P><DT><A NAME="M37"><B>-timeout </B><I>ms</I></A><DD>
Specifies the maximum time to wait for a an operation database engine before
reporting an error to the caller. The <I>ms</I> argument gives the
maximum time in milliseconds. A value of zero (the default) specifies
that the calling process is to wait indefinitely for database
operations.
<P><DT><A NAME="M38"><B>-readonly </B><I>flag</I></A><DD>
Specifies that the connection will not modify the database (if the
Boolean parameter <I>flag</I> is true), or that it may modify the
database (if <I>flag</I> is false). If <I>flag</I> is true, this option
may have the effect of raising the transaction isolation level to
<I>readonly</I>.
<P></DL>
<H4><A NAME="M39">TRANSACTION ISOLATION LEVELS</A></H4>
The acceptable values for the <B>-isolation</B> configuration option
are as follows:
<P>
<DL class="transaction isolation levels">
<DT><A NAME="M40"><B>readuncommitted</B></A><DD>
Allows the transaction to read &quot;dirty&quot;, that is, uncommitted
data. This isolation level may compromise data integrity, does not
guarantee that foreign keys or uniqueness constraints are satisfied,
and in general does not guarantee data consistency.
<P><DT><A NAME="M41"><B>readcommitted</B></A><DD>
Forbids the transaction from reading &quot;dirty&quot; data, but does not
guarantee repeatable reads; if a transaction reads a row of a database
at a given time, there is no guarantee that the same row will be
available at a later time in the same transaction.
<P><DT><A NAME="M42"><B>repeatableread</B></A><DD>
Guarantees that any row of the database, once read, will have the same
values for the life of a transaction. Still permits &quot;phantom reads&quot;
(that is, newly-added rows appearing if a table is queried a second
time).
<P><DT><A NAME="M43"><B>serializable</B></A><DD>
The most restrictive (and most expensive) level of transaction isolation. Any query to the database, if repeated, will return precisely the same results for the life of the transaction, exactly as if the transaction is the only user of the database.
<P><DT><A NAME="M44"><B>readonly</B></A><DD>
Behaves like <B>serializable</B> in that the only results visible to
the transaction are those that were committed prior to the start of
the transaction, but forbids the transaction from modifying the
database.
<P></DL>
<P>
A database that does not implement one of these isolation levels
will instead use the next more restrictive isolation level. If the
given level of isolation cannot be obtained, the database interface
throws an error reporting the fact. The default isolation level
is <B>readcommitted</B>.
<P>
A script should not the isolation level when a transaction is in
progress.
<H3><A NAME="M45">SEE ALSO</A></H3>
<B><A HREF="../TclCmd/encoding.html">encoding</A></B>, <B><A HREF="tdbc.html">tdbc</A></B>, <B><A HREF="tdbc_resultset.html">tdbc::resultset</A></B>, <B><A HREF="tdbc_statement.html">tdbc::statement</A></B>, <B><A HREF="tdbc_tokenize.html">tdbc::tokenize</A></B>
<H3><A NAME="M46">KEYWORDS</A></H3>
<A href="../Keywords/T.html#TDBC">TDBC</A>, <A href="../Keywords/S.html#SQL">SQL</A>, <A href="../Keywords/D.html#database">database</A>, <A href="../Keywords/C.html#connectivity">connectivity</A>, <A href="../Keywords/C.html#connection">connection</A>, <A href="../Keywords/R.html#resultset">resultset</A>, <A href="../Keywords/S.html#statement">statement</A>
<H3><A NAME="M47">COPYRIGHT</A></H3>
Copyright (c) 2008 by Kevin B. Kenny.
<div class="copy">Copyright &copy; 2008 by Kevin B. Kenny.
</div>
</BODY></HTML>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				<div class="as_footer">
  
  <div class="prod_links">
    <strong>
      <a href="http://platform.activestate.com/" target="_blank">ActiveState Platform</a>&nbsp;&nbsp;
      <a href="http://www.activestate.com/downloads" target="_blank">Downloads</a>&nbsp;&nbsp;
      <a href="http://community.activestate.com/" target="_blank">Community</a>&nbsp;&nbsp;
      <a href="http://github.com/activestate/code" target="_blank">Code Recipes</a>&nbsp;&nbsp;
    </strong>
  </div>
  <div class="as_copyright"> 
    &copy; 2019 ActiveState Software Inc. All rights reserved. <strong><a href="../../trademarks/index.html">Trademarks</a>. <a href="http://www.activestate.com/privacy-policy">Privacy Policy</a>.</strong>
  </div>
</div>

			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-20072-24', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="../../javascripts/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

