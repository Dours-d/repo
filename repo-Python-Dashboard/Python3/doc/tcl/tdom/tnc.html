<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>ActiveTcl 8.6.9 Documentation</title>
    <meta name="generator" content="Hugo 0.26" />

    
    <meta name="description" content="Complete documentation for ActiveTcl 8.6.9">
    
    <link rel="canonical" href="tnc.html">
    

    
    <meta name="apple-mobile-web-app-title" content="ActiveTcl 8.6.9 Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('../../fonts/icon.eot');
        src: url('../../fonts/icon.eot')
               format('embedded-opentype'),
             url('../../fonts/icon.woff')
               format('woff'),
             url('../../fonts/icon.ttf')
               format('truetype'),
             url('../../fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open%20Sans:400,700|Source+Code+Pro">
    <style>
      body, input {
        font-family: 'Open Sans', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="../../stylesheets/as_common.css">
    
    <link rel="stylesheet" href="../../stylesheets/as_custom.css">
    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-grey palette-accent-red">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="logo">
        <a href="http://www.activestate.com/">
          <img src="../../images/logo.png" alt="ActiveState homepage">
        </a>
      </div>
      <div class="title">
        <a href="http://docs.activestate.com/">docs.activestate.com</a>
      </div>
    </div>

    

    
    
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../index.html" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/as_tcl.png">
        </div>
      
      <div class="name">
        <strong>ActiveTcl 8.6.9 Documentation </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  



<a  title="Get ActiveTcl" href="../../get/index.html">
	
	Get ActiveTcl
</a>



  
    <ul>
      
        
        



<a  title="Release notes" href="../../get/relnotes/index.html">
	
	Release notes
</a>



      
        
        



<a  title="Windows installation" href="../../get/windows/index.html">
	
	Windows installation
</a>



      
        
        



<a  title="Linux/Unix Installaton" href="../../get/linux/index.html">
	
	Linux/Unix Installaton
</a>



      
        
        



<a  title="macOS Installation" href="../../get/macos/index.html">
	
	macOS Installation
</a>



      
        
        



<a  title="License" href="../../get/license/index.html">
	
	License
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Get Started" href="../../start/index.html">
	
	Get Started
</a>



  
    <ul>
      
        
        



<a  title="Package Reference" href="../../pkg/index.html">
	
	Package Reference
</a>



      
        
        



<a  title="Tcl 8.6.9 docs" href="../contents.html">
	
	Tcl 8.6.9 docs
</a>



      
    </ul>
  
</li>



<li>
  



<a  title="Contact Us" href="../../contact/index.html">
	
	Contact Us
</a>



  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			---

---
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta name='Author' content='ActiveState'>
<title>tDOM manual: tnc</title>
<meta name="xsl-processor" content=
"Jochen Loewer (loewerj@hotmail.com), Rolf Ade (rolf@pointsman.de) et. al.">
<meta name="generator" content="$RCSfile$ $Revision$">
</head>
<body>
<div class="header">
<div class="navbar" align="center"><a href="tnc.html#SECTid883">NAME</a>
&middot; <a href="tnc.html#SECTid892">SYNOPSIS</a> &middot; <a href=
"tnc.html#SECTid898">DESCRIPTION</a> &middot; <a href=
"tnc.html#SECTid1068">BUGS</a> &middot; <a href=
"tnc.html#SECTid1086">KEYWORDS</a></div>

<hr class="navsep">
</div>

<div class="body">
<h2><a name="SECTid883">NAME</a></h2>

<p class="namesection"><b class="names">tnc -</b><br>
tnc is an expat parser object extension, that validates the XML
stream against the document DTD while parsing.</p>

<h2><a name="SECTid892">SYNOPSIS</a></h2>

<pre class="syntax">
package require tdom
package require tnc

set parser [expat]

tnc $parser enable
</pre>

<h2><a name="SECTid898">DESCRIPTION</a></h2>

<p><i class="m">tnc</i> adds the C handler set "tnc" to a tcl expat
parser obj. This handler set is a simple DTD validator. If the
validator detects a validation error, it sets the interp result,
signals error and stops parsing. There isn't any validation error
recovering. As a consequence, only valid documents are completely
parsed.</p>

<p>This handler set has only three methods:</p>

<dl class="commandlist">
<dt><b class="cmd">tnc</b> <i class="m">parserObj</i> <b class=
"method">enable</b></dt>

<dd>
<p>Adds the tnc C handler set to a Tcl expat parser object.</p>
</dd>

<dt><b class="cmd">tnc</b> <i class="m">parserObj</i> <b class=
"method">remove</b></dt>

<dd>
<p>Removes the tnc validatore from the parser <i class=
"m">parserObj</i> and frees all information, stored by it.</p>
</dd>

<dt><b class="cmd">tnc</b> <i class="m">parserObj</i> <b class=
"method">getValidateCmd</b> <b class=
"option">?validateCmdName?</b></dt>

<dd>
<p>Returns a new created validation command, if one is avaliable
from the parser command, otherwise it signals error. The name of
the validation command is the <i class="m">validateCmdName</i>, if
this optional argument was given, or a random choosen name. A
validation command is avaliable in a parser command, if the parser
with tnc enabled was previously used, to parse an XML document with
a valid doctype declaration, a valid external subset, if one was
given by the doctype declaration, and a valid internal subset. The
further document doesn't need to be valid, to make the validation
command avaliable. The validation command can only get received one
time from the parser command. The created validation command has
this syntax:</p>

<pre class="syntax">
<b class="cmd">validationCmd</b> <i class="m">method</i> <i class=
"m">?args?</i>
</pre>

<p>The valid methods are:</p>

<dl class="commandlist">
<dt><b class="method">validateDocument</b> <i class=
"m">domDocument</i> <i class="m">?varName?</i></dt>

<dd>Checks, if the given domDocument is valid against the DTD
information represented by the validation command. Returns 1, if
the document ist valid, 0 otherwise. If the <i class=
"m">varName</i> argument is given, then the variable it names is
set to the detected reason for the validation error or to the empty
string in case of a valid document.</dd>

<dt><b class="method">validateTree</b> <i class="m">elementNode</i>
<i class="m">?varName?</i></dt>

<dd>Checks, if the given subtree with <i class="m">domNode</i> as
root element is a posible valid subtree of a document conforming to
the DTD information represented by teh validation command. IDREF
could not checked, while validating only a subtree, but it is
checked, that every known ID attribute in the subtree is unique.
Returns 1, if the subtree is OK, 0 otherwise. If the <i class=
"m">varName</i> argument is given, then the variable it names is
set to the detected reason for the validation error or to the empty
string in case of a valid subtree.</dd>

<dt><b class="method">validateAttributes</b> <i class=
"m">elementNode</i> <i class="m">?varName?</i></dt>

<dd>Checks, if there is an element declaration for the name of the
<i class="m">elementNode</i> in the DTD represented by the
validation command and, if yes, if the attributes of the <i class=
"m">elementNode</i> are conform to the ATTLIST declarations for
that element in the DTD. Returns 1, if the attributes and there
value types are OK, 0 otherwise. If the <i class="m">varName</i>
argument is given, then the variable it names is set to the
detected reason for the validation error or to the empty string in
case the element has all its required attributes, only declared
attributes and the values of the attributes matches there
type.</dd>

<dt><b class="method">delete</b></dt>

<dd>Deletes the validation command and frees the memory used by it.
Returns the empty string.</dd>
</dl>
</dd>
</dl>

<h2><a name="SECTid1068">BUGS</a></h2>

<p>The validation error reports could be much more informative and
user-friendly.</p>

<p>The validator doesn't detect ambiguous content models (see XML
recomendation Section 3.2.1 and Appendix E). Most Java validators
also doesn't, but handle such content models right anyhow. Tnc does
not; if your DTD has such ambiguous content models, tnc can not
used to validate documents against such (not completely XML spec
compliant) DTDs.</p>

<p>It isn't possible to validate XML documents with
standalone="yes" in the XML Declaration</p>

<p>Violations of the validity constraints Proper Group/PE Nesting
and Proper Conditional Section/PE Nesting are not detected. They
could only happen inside a invalid DTD, not in the content of a
document.</p>

<h2><a name="SECTid1086">KEYWORDS</a></h2>

<p class="keywords"><a class="keyword" href=
"keyword-index.html#KW-Validation">Validation</a>, <a class=
"keyword" href="keyword-index.html#KW-DTD">DTD</a></p>
</div>

<hr class="navsep">
<div class="navbar" align="center"><a class="navaid" href=
"index.html">Table of Contents</a> &middot; <a class="navaid" href=
"category-index.html">Index</a> &middot; <a class="navaid" href=
"keyword-index.html">Keywords</a></div>
</body>
</html>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				<div class="as_footer">
  
  <div class="prod_links">
    <strong>
      <a href="http://platform.activestate.com/" target="_blank">ActiveState Platform</a>&nbsp;&nbsp;
      <a href="http://www.activestate.com/downloads" target="_blank">Downloads</a>&nbsp;&nbsp;
      <a href="http://community.activestate.com/" target="_blank">Community</a>&nbsp;&nbsp;
      <a href="http://github.com/activestate/code" target="_blank">Code Recipes</a>&nbsp;&nbsp;
    </strong>
  </div>
  <div class="as_copyright"> 
    &copy; 2019 ActiveState Software Inc. All rights reserved. <strong><a href="../../trademarks/index.html">Trademarks</a>. <a href="http://www.activestate.com/privacy-policy">Privacy Policy</a>.</strong>
  </div>
</div>

			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-20072-24', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="../../javascripts/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

